mysql> USE patient_management;
Database changed
mysql> CREATE TABLE patients (
    ->     patient_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     name VARCHAR(100) NOT NULL,
    ->     dob DATE NOT NULL,
    ->     phone VARCHAR(15) UNIQUE NOT NULL,
    ->     email VARCHAR(100) UNIQUE,
    ->     address TEXT,
    ->     blood_group VARCHAR(5)
    -> );
Query OK, 0 rows affected (0.20 sec)

mysql> CREATE TABLE doctors (
    ->     doctor_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     doctor_name VARCHAR(100) NOT NULL,
    ->     specialization VARCHAR(100),
    ->     contact VARCHAR(15)
    -> );
Query OK, 0 rows affected (0.04 sec)

mysql> CREATE TABLE appointments (
    ->     appointment_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     patient_id INT NOT NULL,
    ->     doctor_id INT NOT NULL,
    ->     appointment_date DATE NOT NULL,
    ->     appointment_time TIME,
    ->
    ->     FOREIGN KEY (patient_id) REFERENCES patients(patient_id),
    ->     FOREIGN KEY (doctor_id) REFERENCES doctors(doctor_id)
    -> );
Query OK, 0 rows affected (0.07 sec)

mysql> CREATE TABLE visits (
    ->     visit_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     patient_id INT NOT NULL,
    ->     doctor_id INT NOT NULL,
    ->     visit_date DATE NOT NULL,
    ->     diagnosis TEXT,
    ->     prescription TEXT,
    ->
    ->     FOREIGN KEY (patient_id) REFERENCES patients(patient_id),
    ->     FOREIGN KEY (doctor_id) REFERENCES doctors(doctor_id)
    -> );
Query OK, 0 rows affected (0.06 sec)

mysql> INSERT INTO patients
    -> (name, dob, phone, email, address, blood_group)
    -> VALUES
    -> ('Rahul Sharma', '1998-04-12', '9876543210', 'rahul@gmail.com', 'Delhi', 'O+'),
    -> ('Anita Verma', '1995-08-20', '9123456789', 'anita@gmail.com', 'Noida', 'A+');
Query OK, 2 rows affected (0.04 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO doctors
    -> (doctor_name, specialization, contact)
    -> VALUES
    -> ('Dr. Amit Kumar', 'Cardiology', '9998887776'),
    -> ('Dr. Neha Singh', 'Dermatology', '8887776665');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO appointments
    -> (patient_id, doctor_id, appointment_date, appointment_time)
    -> VALUES
    -> (1, 1, '2026-02-10', '10:30:00'),
    -> (2, 2, '2026-02-11', '11:00:00');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> INSERT INTO visits
    -> (patient_id, doctor_id, visit_date, diagnosis, prescription)
    -> VALUES
    -> (1, 1, '2026-02-10', 'High BP', 'Low salt diet'),
    -> (2, 2, '2026-02-11', 'Skin Allergy', 'Antihistamine');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> show tables;
+------------------------------+
| Tables_in_patient_management |
+------------------------------+
| appointments                 |
| doctors                      |
| patients                     |
| visits                       |
+------------------------------+
4 rows in set (0.05 sec)

mysql> select * from patients;
+------------+--------------+------------+------------+-----------------+---------+-------------+
| patient_id | name         | dob        | phone      | email           | address | blood_group |
+------------+--------------+------------+------------+-----------------+---------+-------------+
|          1 | Rahul Sharma | 1998-04-12 | 9876543210 | rahul@gmail.com | Delhi   | O+          |
|          2 | Anita Verma  | 1995-08-20 | 9123456789 | anita@gmail.com | Noida   | A+          |
+------------+--------------+------------+------------+-----------------+---------+-------------+
2 rows in set (0.01 sec)

mysql> select * from doctors;
+-----------+----------------+----------------+------------+
| doctor_id | doctor_name    | specialization | contact    |
+-----------+----------------+----------------+------------+
|         1 | Dr. Amit Kumar | Cardiology     | 9998887776 |
|         2 | Dr. Neha Singh | Dermatology    | 8887776665 |
+-----------+----------------+----------------+------------+
2 rows in set (0.00 sec)

mysql> select * from appointments;
+----------------+------------+-----------+------------------+------------------+
| appointment_id | patient_id | doctor_id | appointment_date | appointment_time |
+----------------+------------+-----------+------------------+------------------+
|              1 |          1 |         1 | 2026-02-10       | 10:30:00         |
|              2 |          2 |         2 | 2026-02-11       | 11:00:00         |
+----------------+------------+-----------+------------------+------------------+
2 rows in set (0.00 sec)

mysql> select * from visits;
+----------+------------+-----------+------------+--------------+---------------+
| visit_id | patient_id | doctor_id | visit_date | diagnosis    | prescription  |
+----------+------------+-----------+------------+--------------+---------------+
|        1 |          1 |         1 | 2026-02-10 | High BP      | Low salt diet |
|        2 |          2 |         2 | 2026-02-11 | Skin Allergy | Antihistamine |
+----------+------------+-----------+------------+--------------+---------------+
2 rows in set (0.00 sec)

mysql> SELECT
    ->     p.name,
    ->     v.visit_date,
    ->     d.doctor_name,
    ->     v.diagnosis
    -> FROM visits v
    -> JOIN patients p ON v.patient_id = p.patient_id
    -> JOIN doctors d ON v.doctor_id = d.doctor_id
    -> WHERE p.patient_id = 1
    -> ORDER BY v.visit_date DESC;
+--------------+------------+----------------+-----------+
| name         | visit_date | doctor_name    | diagnosis |
+--------------+------------+----------------+-----------+
| Rahul Sharma | 2026-02-10 | Dr. Amit Kumar | High BP   |
+--------------+------------+----------------+-----------+
1 row in set (0.00 sec)

mysql> CREATE DATABASE doctor_management;
Query OK, 1 row affected (0.01 sec)

mysql> USE doctor_management;
Database changed
mysql> CREATE TABLE specialties (
    ->     specialty_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     specialty_name VARCHAR(100) UNIQUE NOT NULL
    -> );
Query OK, 0 rows affected (0.06 sec)

mysql> INSERT INTO specialties (specialty_name)
    -> VALUES
    -> ('Cardiology'),
    -> ('Dermatology'),
    -> ('Orthopedics'),
    -> ('Neurology'),
    -> ('General Medicine');
Query OK, 5 rows affected (0.02 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> CREATE TABLE doctors (
    ->     doctor_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     doctor_name VARCHAR(100) NOT NULL,
    ->     contact VARCHAR(15),
    ->     consultation_fee DECIMAL(10,2),
    ->     specialty_id INT,
    ->     is_active BOOLEAN DEFAULT TRUE,
    ->
    ->     FOREIGN KEY (specialty_id) REFERENCES specialties(specialty_id)
    -> );
Query OK, 0 rows affected (0.06 sec)

mysql> CREATE TABLE doctor_schedule (
    ->     schedule_id INT PRIMARY KEY AUTO_INCREMENT,
    ->     doctor_id INT,
    ->     available_day VARCHAR(20),
    ->     start_time TIME,
    ->     end_time TIME,
    ->
    ->     FOREIGN KEY (doctor_id) REFERENCES doctors(doctor_id)
    -> );
Query OK, 0 rows affected (0.05 sec)

mysql> INSERT INTO doctors
    -> (doctor_name, contact, consultation_fee, specialty_id)
    -> VALUES
    -> ('Dr. Neha Singh', '8887776665', 600, 2),
    -> ('Dr. Rahul Verma', '9876543211', 700, 3),
    -> ('Dr. Pooja Mehta', '9123456788', 500, 5),
    -> ('Dr. Sanjay Gupta', '9012345678', 900, 1),
    -> ('Dr. Anjali Rao', '9345678123', 650, 4),
    -> ('Dr. Vikram Patel', '9567891234', 750, 3),
    -> ('Dr. Kavita Sharma', '9784561230', 550, 2);
Query OK, 7 rows affected (0.01 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> START TRANSACTION;
Query OK, 0 rows affected (0.01 sec)

mysql>
mysql> UPDATE doctors
    -> SET specialty_id = 2
    -> WHERE doctor_id = 1;
Query OK, 0 rows affected (0.01 sec)
Rows matched: 1  Changed: 0  Warnings: 0

mysql>
mysql> COMMIT;
Query OK, 0 rows affected (0.00 sec)

mysql> SELECT
    ->     d.doctor_name,
    ->     d.consultation_fee,
    ->     ds.available_day,
    ->     ds.start_time,
    ->     ds.end_time
    -> FROM doctors d
    -> JOIN specialties s ON d.specialty_id = s.specialty_id
    -> LEFT JOIN doctor_schedule ds ON d.doctor_id = ds.doctor_id
    -> WHERE s.specialty_name = 'Cardiology'
    -> AND d.is_active = TRUE;
+------------------+------------------+---------------+------------+----------+
| doctor_name      | consultation_fee | available_day | start_time | end_time |
+------------------+------------------+---------------+------------+----------+
| Dr. Sanjay Gupta |           900.00 | NULL          | NULL       | NULL     |
+------------------+------------------+---------------+------------+----------+
1 row in set (0.01 sec)

mysql> UPDATE doctors
    -> SET is_active = FALSE
    -> WHERE doctor_id = 1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> show tables;
+-----------------------------+
| Tables_in_doctor_management |
+-----------------------------+
| doctor_schedule             |
| doctors                     |
| specialties                 |
+-----------------------------+
3 rows in set (0.01 sec)

mysql> SELECT * FROM specialties;
+--------------+------------------+
| specialty_id | specialty_name   |
+--------------+------------------+
|            1 | Cardiology       |
|            2 | Dermatology      |
|            5 | General Medicine |
|            4 | Neurology        |
|            3 | Orthopedics      |
+--------------+------------------+
5 rows in set (0.00 sec)

mysql> SELECT * FROM doctors;
+-----------+-------------------+------------+------------------+--------------+-----------+
| doctor_id | doctor_name       | contact    | consultation_fee | specialty_id | is_active |
+-----------+-------------------+------------+------------------+--------------+-----------+
|         1 | Dr. Neha Singh    | 8887776665 |           600.00 |            2 |         0 |
|         2 | Dr. Rahul Verma   | 9876543211 |           700.00 |            3 |         1 |
|         3 | Dr. Pooja Mehta   | 9123456788 |           500.00 |            5 |         1 |
|         4 | Dr. Sanjay Gupta  | 9012345678 |           900.00 |            1 |         1 |
|         5 | Dr. Anjali Rao    | 9345678123 |           650.00 |            4 |         1 |
|         6 | Dr. Vikram Patel  | 9567891234 |           750.00 |            3 |         1 |
|         7 | Dr. Kavita Sharma | 9784561230 |           550.00 |            2 |         1 |
+-----------+-------------------+------------+------------------+--------------+-----------+
7 rows in set (0.00 sec)

mysql> SELECT * FROM doctor_schedule;
Empty set (0.00 sec)

mysql> INSERT INTO doctor_schedule
    -> (doctor_id, available_day, start_time, end_time)
    -> VALUES
    -> (1, 'Monday', '10:00:00', '13:00:00'),
    -> (1, 'Wednesday', '10:00:00', '13:00:00'),
    -> (2, 'Tuesday', '11:00:00', '14:00:00'),
    -> (2, 'Thursday', '11:00:00', '14:00:00'),
    -> (3, 'Monday', '09:00:00', '12:00:00'),
    -> (4, 'Friday', '12:00:00', '15:00:00'),
    -> (5, 'Saturday', '10:00:00', '13:00:00');
Query OK, 7 rows affected (0.01 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM doctor_schedule;
+-------------+-----------+---------------+------------+----------+
| schedule_id | doctor_id | available_day | start_time | end_time |
+-------------+-----------+---------------+------------+----------+
|           1 |         1 | Monday        | 10:00:00   | 13:00:00 |
|           2 |         1 | Wednesday     | 10:00:00   | 13:00:00 |
|           3 |         2 | Tuesday       | 11:00:00   | 14:00:00 |
|           4 |         2 | Thursday      | 11:00:00   | 14:00:00 |
|           5 |         3 | Monday        | 09:00:00   | 12:00:00 |
|           6 |         4 | Friday        | 12:00:00   | 15:00:00 |
|           7 |         5 | Saturday      | 10:00:00   | 13:00:00 |
+-------------+-----------+---------------+------------+----------+
7 rows in set (0.00 sec)
